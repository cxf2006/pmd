<?xml version="1.0" encoding="UTF-8"?>

<ruleset name="Documentation"
    xmlns="http://pmd.sourceforge.net/ruleset/2.0.0"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://pmd.sourceforge.net/ruleset/2.0.0 https://pmd.sourceforge.io/ruleset_2_0_0.xsd">

    <description>
Rules that are related to code documentation.
    </description>

    <rule name="CommentContent"
          language="java"
          since="5.0"
          message="发现无效的词汇或短语"
          class="net.sourceforge.pmd.lang.java.rule.documentation.CommentContentRule"
          externalInfoUrl="${pmd.website.baseurl}/pmd_rules_java_documentation.html#commentcontent">
        <description>
这是一个关于政治正确的规则……我们不想冒犯任何人。
        </description>
        <priority>3</priority>
        <example>
<![CDATA[
//OMG, this is horrible, Bob is an idiot !!!
]]>
        </example>
    </rule>

    <rule name="CommentRequired"
          language="java"
          since="5.1"
          message="注释是必需的。"
          class="net.sourceforge.pmd.lang.java.rule.documentation.CommentRequiredRule"
          externalInfoUrl="${pmd.website.baseurl}/pmd_rules_java_documentation.html#commentrequired">
        <description>
表示是否需要（或不需要）针对特定语言元素的 javadoc（正式）注释。
        </description>
        <priority>3</priority>
        <example>
<![CDATA[
/**
*
*
* @author Jon Doe
*/
]]>
        </example>
    </rule>

    <rule name="CommentSize"
          language="java"
          since="5.0"
          message="注释过大。"
          class="net.sourceforge.pmd.lang.java.rule.documentation.CommentSizeRule"
          externalInfoUrl="${pmd.website.baseurl}/pmd_rules_java_documentation.html#commentsize">
        <description>
检查找到的非头部注释的尺寸是否在指定的限制范围内。
        </description>
        <priority>3</priority>
        <example>
<![CDATA[
/**
*
*   too many lines!
*
*
*
*
*
*
*
*
*
*
*
*
*/
]]>
        </example>
    </rule>

    <rule name="UncommentedEmptyConstructor"
          language="java"
          since="3.4"
          message="注释空构造函数。"
          class="net.sourceforge.pmd.lang.rule.xpath.XPathRule"
          externalInfoUrl="${pmd.website.baseurl}/pmd_rules_java_documentation.html#uncommentedemptyconstructor">
        <description>
未注释的空构造函数用于查找那些不包含语句但没有注释的构造函数。通过明确地注释空构造函数，可以更容易地区分有意（已注释）和无意的空构造函数。
        </description>
        <priority>3</priority>
        <properties>
            <property name="xpath">
                <value>
<![CDATA[
//ConstructorDeclaration[@Visibility != "private"]
                        [not(
                               pmd-java:hasAnnotation('javax.inject.Inject')
                            or pmd-java:hasAnnotation('org.springframework.beans.factory.annotation.Autowired')
                        )]
                        [Block[
                            @containsComment = false()
                            and (count(*) = 0 or ($ignoreExplicitConstructorInvocation = true() and count(*) = 1 and ExplicitConstructorInvocation))
                        ]]
]]>
                </value>
            </property>
            <property name="ignoreExplicitConstructorInvocation" type="Boolean" description="Ignore explicit constructor invocation when deciding whether constructor is empty or not" value="false"/>
        </properties>
        <example>
<![CDATA[
public Foo() {
  // This constructor is intentionally empty. Nothing special is needed here.
}
]]>
        </example>
    </rule>

    <rule name="UncommentedEmptyMethodBody"
          language="java"
          since="3.4"
          message="注释空方法体。"
          class="net.sourceforge.pmd.lang.rule.xpath.XPathRule"
          externalInfoUrl="${pmd.website.baseurl}/pmd_rules_java_documentation.html#uncommentedemptymethodbody">
        <description>
未注释的空方法体用于查找那些方法体不包含语句但没有注释的情况。通过明确地注释空方法体，可以更容易地区分有意（已注释）和无意的空方法。
        </description>
        <priority>3</priority>
        <properties>
            <property name="xpath">
                <value>
<![CDATA[
//MethodDeclaration/Block[count(*) = 0 and @containsComment = false()]
]]>
                </value>
            </property>
        </properties>
        <example>
<![CDATA[
public void doSomething() {
}
]]>
        </example>
    </rule>

</ruleset>
